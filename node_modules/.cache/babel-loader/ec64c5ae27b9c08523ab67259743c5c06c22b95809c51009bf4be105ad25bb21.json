{"ast":null,"code":"import { DockviewPanelApiImpl } from '../api/dockviewPanelApi';\nimport { CompositeDisposable } from '../lifecycle';\nimport { WillFocusEvent } from '../api/panelApi';\nexport class DockviewPanel extends CompositeDisposable {\n  get params() {\n    return this._params;\n  }\n  get title() {\n    return this._title;\n  }\n  get group() {\n    return this._group;\n  }\n  get renderer() {\n    var _a;\n    return (_a = this._renderer) !== null && _a !== void 0 ? _a : this.accessor.renderer;\n  }\n  get minimumWidth() {\n    return this._minimumWidth;\n  }\n  get minimumHeight() {\n    return this._minimumHeight;\n  }\n  get maximumWidth() {\n    return this._maximumWidth;\n  }\n  get maximumHeight() {\n    return this._maximumHeight;\n  }\n  constructor(id, component, tabComponent, accessor, containerApi, group, view, options) {\n    super();\n    this.id = id;\n    this.accessor = accessor;\n    this.containerApi = containerApi;\n    this.view = view;\n    this._renderer = options.renderer;\n    this._group = group;\n    this._minimumWidth = options.minimumWidth;\n    this._minimumHeight = options.minimumHeight;\n    this._maximumWidth = options.maximumWidth;\n    this._maximumHeight = options.maximumHeight;\n    this.api = new DockviewPanelApiImpl(this, this._group, accessor, component, tabComponent);\n    this.addDisposables(this.api.onActiveChange(() => {\n      accessor.setActivePanel(this);\n    }), this.api.onDidSizeChange(event => {\n      // forward the resize event to the group since if you want to resize a panel\n      // you are actually just resizing the panels parent which is the group\n      this.group.api.setSize(event);\n    }), this.api.onDidRendererChange(() => {\n      this.group.model.rerender(this);\n    }));\n  }\n  init(params) {\n    this._params = params.params;\n    this.view.init(Object.assign(Object.assign({}, params), {\n      api: this.api,\n      containerApi: this.containerApi\n    }));\n    this.setTitle(params.title);\n  }\n  focus() {\n    const event = new WillFocusEvent();\n    this.api._onWillFocus.fire(event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (!this.api.isActive) {\n      this.api.setActive();\n    }\n  }\n  toJSON() {\n    return {\n      id: this.id,\n      contentComponent: this.view.contentComponent,\n      tabComponent: this.view.tabComponent,\n      params: Object.keys(this._params || {}).length > 0 ? this._params : undefined,\n      title: this.title,\n      renderer: this._renderer,\n      minimumHeight: this._minimumHeight,\n      maximumHeight: this._maximumHeight,\n      minimumWidth: this._minimumWidth,\n      maximumWidth: this._maximumWidth\n    };\n  }\n  setTitle(title) {\n    const didTitleChange = title !== this.title;\n    if (didTitleChange) {\n      this._title = title;\n      this.api._onDidTitleChange.fire({\n        title\n      });\n    }\n  }\n  setRenderer(renderer) {\n    const didChange = renderer !== this.renderer;\n    if (didChange) {\n      this._renderer = renderer;\n      this.api._onDidRendererChange.fire({\n        renderer: renderer\n      });\n    }\n  }\n  update(event) {\n    var _a;\n    // merge the new parameters with the existing parameters\n    this._params = Object.assign(Object.assign({}, (_a = this._params) !== null && _a !== void 0 ? _a : {}), event.params);\n    /**\n     * delete new keys that have a value of undefined,\n     * allow values of null\n     */\n    for (const key of Object.keys(event.params)) {\n      if (event.params[key] === undefined) {\n        delete this._params[key];\n      }\n    }\n    // update the view with the updated props\n    this.view.update({\n      params: this._params\n    });\n  }\n  updateParentGroup(group, options) {\n    this._group = group;\n    this.api.group = this._group;\n    const isPanelVisible = this._group.model.isPanelActive(this);\n    const isActive = this.group.api.isActive && isPanelVisible;\n    if (!(options === null || options === void 0 ? void 0 : options.skipSetActive)) {\n      if (this.api.isActive !== isActive) {\n        this.api._onDidActiveChange.fire({\n          isActive: this.group.api.isActive && isPanelVisible\n        });\n      }\n    }\n    if (this.api.isVisible !== isPanelVisible) {\n      this.api._onDidVisibilityChange.fire({\n        isVisible: isPanelVisible\n      });\n    }\n  }\n  runEvents() {\n    const isPanelVisible = this._group.model.isPanelActive(this);\n    const isActive = this.group.api.isActive && isPanelVisible;\n    if (this.api.isActive !== isActive) {\n      this.api._onDidActiveChange.fire({\n        isActive: this.group.api.isActive && isPanelVisible\n      });\n    }\n    if (this.api.isVisible !== isPanelVisible) {\n      this.api._onDidVisibilityChange.fire({\n        isVisible: isPanelVisible\n      });\n    }\n  }\n  layout(width, height) {\n    // TODO: Can we somehow do height without header height or indicate what the header height is?\n    this.api._onDidDimensionChange.fire({\n      width,\n      height: height\n    });\n    this.view.layout(width, height);\n  }\n  dispose() {\n    this.api.dispose();\n    this.view.dispose();\n  }\n}","map":{"version":3,"names":["DockviewPanelApiImpl","CompositeDisposable","WillFocusEvent","DockviewPanel","params","_params","title","_title","group","_group","renderer","_a","_renderer","accessor","minimumWidth","_minimumWidth","minimumHeight","_minimumHeight","maximumWidth","_maximumWidth","maximumHeight","_maximumHeight","constructor","id","component","tabComponent","containerApi","view","options","api","addDisposables","onActiveChange","setActivePanel","onDidSizeChange","event","setSize","onDidRendererChange","model","rerender","init","Object","assign","setTitle","focus","_onWillFocus","fire","defaultPrevented","isActive","setActive","toJSON","contentComponent","keys","length","undefined","didTitleChange","_onDidTitleChange","setRenderer","didChange","_onDidRendererChange","update","key","updateParentGroup","isPanelVisible","isPanelActive","skipSetActive","_onDidActiveChange","isVisible","_onDidVisibilityChange","runEvents","layout","width","height","_onDidDimensionChange","dispose"],"sources":["E:/dockview.demo/node_modules/dockview-core/dist/esm/dockview/dockviewPanel.js"],"sourcesContent":["import { DockviewPanelApiImpl, } from '../api/dockviewPanelApi';\nimport { CompositeDisposable } from '../lifecycle';\nimport { WillFocusEvent } from '../api/panelApi';\nexport class DockviewPanel extends CompositeDisposable {\n    get params() {\n        return this._params;\n    }\n    get title() {\n        return this._title;\n    }\n    get group() {\n        return this._group;\n    }\n    get renderer() {\n        var _a;\n        return (_a = this._renderer) !== null && _a !== void 0 ? _a : this.accessor.renderer;\n    }\n    get minimumWidth() {\n        return this._minimumWidth;\n    }\n    get minimumHeight() {\n        return this._minimumHeight;\n    }\n    get maximumWidth() {\n        return this._maximumWidth;\n    }\n    get maximumHeight() {\n        return this._maximumHeight;\n    }\n    constructor(id, component, tabComponent, accessor, containerApi, group, view, options) {\n        super();\n        this.id = id;\n        this.accessor = accessor;\n        this.containerApi = containerApi;\n        this.view = view;\n        this._renderer = options.renderer;\n        this._group = group;\n        this._minimumWidth = options.minimumWidth;\n        this._minimumHeight = options.minimumHeight;\n        this._maximumWidth = options.maximumWidth;\n        this._maximumHeight = options.maximumHeight;\n        this.api = new DockviewPanelApiImpl(this, this._group, accessor, component, tabComponent);\n        this.addDisposables(this.api.onActiveChange(() => {\n            accessor.setActivePanel(this);\n        }), this.api.onDidSizeChange((event) => {\n            // forward the resize event to the group since if you want to resize a panel\n            // you are actually just resizing the panels parent which is the group\n            this.group.api.setSize(event);\n        }), this.api.onDidRendererChange(() => {\n            this.group.model.rerender(this);\n        }));\n    }\n    init(params) {\n        this._params = params.params;\n        this.view.init(Object.assign(Object.assign({}, params), { api: this.api, containerApi: this.containerApi }));\n        this.setTitle(params.title);\n    }\n    focus() {\n        const event = new WillFocusEvent();\n        this.api._onWillFocus.fire(event);\n        if (event.defaultPrevented) {\n            return;\n        }\n        if (!this.api.isActive) {\n            this.api.setActive();\n        }\n    }\n    toJSON() {\n        return {\n            id: this.id,\n            contentComponent: this.view.contentComponent,\n            tabComponent: this.view.tabComponent,\n            params: Object.keys(this._params || {}).length > 0\n                ? this._params\n                : undefined,\n            title: this.title,\n            renderer: this._renderer,\n            minimumHeight: this._minimumHeight,\n            maximumHeight: this._maximumHeight,\n            minimumWidth: this._minimumWidth,\n            maximumWidth: this._maximumWidth,\n        };\n    }\n    setTitle(title) {\n        const didTitleChange = title !== this.title;\n        if (didTitleChange) {\n            this._title = title;\n            this.api._onDidTitleChange.fire({ title });\n        }\n    }\n    setRenderer(renderer) {\n        const didChange = renderer !== this.renderer;\n        if (didChange) {\n            this._renderer = renderer;\n            this.api._onDidRendererChange.fire({\n                renderer: renderer,\n            });\n        }\n    }\n    update(event) {\n        var _a;\n        // merge the new parameters with the existing parameters\n        this._params = Object.assign(Object.assign({}, ((_a = this._params) !== null && _a !== void 0 ? _a : {})), event.params);\n        /**\n         * delete new keys that have a value of undefined,\n         * allow values of null\n         */\n        for (const key of Object.keys(event.params)) {\n            if (event.params[key] === undefined) {\n                delete this._params[key];\n            }\n        }\n        // update the view with the updated props\n        this.view.update({\n            params: this._params,\n        });\n    }\n    updateParentGroup(group, options) {\n        this._group = group;\n        this.api.group = this._group;\n        const isPanelVisible = this._group.model.isPanelActive(this);\n        const isActive = this.group.api.isActive && isPanelVisible;\n        if (!(options === null || options === void 0 ? void 0 : options.skipSetActive)) {\n            if (this.api.isActive !== isActive) {\n                this.api._onDidActiveChange.fire({\n                    isActive: this.group.api.isActive && isPanelVisible,\n                });\n            }\n        }\n        if (this.api.isVisible !== isPanelVisible) {\n            this.api._onDidVisibilityChange.fire({\n                isVisible: isPanelVisible,\n            });\n        }\n    }\n    runEvents() {\n        const isPanelVisible = this._group.model.isPanelActive(this);\n        const isActive = this.group.api.isActive && isPanelVisible;\n        if (this.api.isActive !== isActive) {\n            this.api._onDidActiveChange.fire({\n                isActive: this.group.api.isActive && isPanelVisible,\n            });\n        }\n        if (this.api.isVisible !== isPanelVisible) {\n            this.api._onDidVisibilityChange.fire({\n                isVisible: isPanelVisible,\n            });\n        }\n    }\n    layout(width, height) {\n        // TODO: Can we somehow do height without header height or indicate what the header height is?\n        this.api._onDidDimensionChange.fire({\n            width,\n            height: height,\n        });\n        this.view.layout(width, height);\n    }\n    dispose() {\n        this.api.dispose();\n        this.view.dispose();\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}