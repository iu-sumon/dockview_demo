{"ast":null,"code":"import { CompositeDisposable, Disposable } from '../lifecycle';\nexport class DropTargetAnchorContainer extends CompositeDisposable {\n  get disabled() {\n    return this._disabled;\n  }\n  set disabled(value) {\n    var _a;\n    if (this.disabled === value) {\n      return;\n    }\n    this._disabled = value;\n    if (value) {\n      (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n    }\n  }\n  get model() {\n    if (this.disabled) {\n      return undefined;\n    }\n    return {\n      clear: () => {\n        var _a;\n        if (this._model) {\n          (_a = this._model.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this._model.root);\n        }\n        this._model = undefined;\n      },\n      exists: () => {\n        return !!this._model;\n      },\n      getElements: (event, outline) => {\n        const changed = this._outline !== outline;\n        this._outline = outline;\n        if (this._model) {\n          this._model.changed = changed;\n          return this._model;\n        }\n        const container = this.createContainer();\n        const anchor = this.createAnchor();\n        this._model = {\n          root: container,\n          overlay: anchor,\n          changed\n        };\n        container.appendChild(anchor);\n        this.element.appendChild(container);\n        if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {\n          const targetBox = event.target.getBoundingClientRect();\n          const box = this.element.getBoundingClientRect();\n          anchor.style.left = `${targetBox.left - box.left}px`;\n          anchor.style.top = `${targetBox.top - box.top}px`;\n        }\n        return this._model;\n      }\n    };\n  }\n  constructor(element, options) {\n    super();\n    this.element = element;\n    this._disabled = false;\n    this._disabled = options.disabled;\n    this.addDisposables(Disposable.from(() => {\n      var _a;\n      (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n    }));\n  }\n  createContainer() {\n    const el = document.createElement('div');\n    el.className = 'dv-drop-target-container';\n    return el;\n  }\n  createAnchor() {\n    const el = document.createElement('div');\n    el.className = 'dv-drop-target-anchor';\n    el.style.visibility = 'hidden';\n    return el;\n  }\n}","map":{"version":3,"names":["CompositeDisposable","Disposable","DropTargetAnchorContainer","disabled","_disabled","value","_a","model","clear","undefined","_model","root","parentElement","removeChild","exists","getElements","event","outline","changed","_outline","container","createContainer","anchor","createAnchor","overlay","appendChild","element","target","HTMLElement","targetBox","getBoundingClientRect","box","style","left","top","constructor","options","addDisposables","from","el","document","createElement","className","visibility"],"sources":["E:/dockview.demo/node_modules/dockview-core/dist/esm/dnd/dropTargetAnchorContainer.js"],"sourcesContent":["import { CompositeDisposable, Disposable } from '../lifecycle';\nexport class DropTargetAnchorContainer extends CompositeDisposable {\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        var _a;\n        if (this.disabled === value) {\n            return;\n        }\n        this._disabled = value;\n        if (value) {\n            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n        }\n    }\n    get model() {\n        if (this.disabled) {\n            return undefined;\n        }\n        return {\n            clear: () => {\n                var _a;\n                if (this._model) {\n                    (_a = this._model.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this._model.root);\n                }\n                this._model = undefined;\n            },\n            exists: () => {\n                return !!this._model;\n            },\n            getElements: (event, outline) => {\n                const changed = this._outline !== outline;\n                this._outline = outline;\n                if (this._model) {\n                    this._model.changed = changed;\n                    return this._model;\n                }\n                const container = this.createContainer();\n                const anchor = this.createAnchor();\n                this._model = { root: container, overlay: anchor, changed };\n                container.appendChild(anchor);\n                this.element.appendChild(container);\n                if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {\n                    const targetBox = event.target.getBoundingClientRect();\n                    const box = this.element.getBoundingClientRect();\n                    anchor.style.left = `${targetBox.left - box.left}px`;\n                    anchor.style.top = `${targetBox.top - box.top}px`;\n                }\n                return this._model;\n            },\n        };\n    }\n    constructor(element, options) {\n        super();\n        this.element = element;\n        this._disabled = false;\n        this._disabled = options.disabled;\n        this.addDisposables(Disposable.from(() => {\n            var _a;\n            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n        }));\n    }\n    createContainer() {\n        const el = document.createElement('div');\n        el.className = 'dv-drop-target-container';\n        return el;\n    }\n    createAnchor() {\n        const el = document.createElement('div');\n        el.className = 'dv-drop-target-anchor';\n        el.style.visibility = 'hidden';\n        return el;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}