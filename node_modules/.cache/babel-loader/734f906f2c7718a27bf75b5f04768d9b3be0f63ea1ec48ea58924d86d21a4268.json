{"ast":null,"code":"import { getPanelData } from '../../../dnd/dataTransfer';\nimport { Droptarget } from '../../../dnd/droptarget';\nimport { GroupDragHandler } from '../../../dnd/groupDragHandler';\nimport { addDisposableListener, Emitter } from '../../../events';\nimport { CompositeDisposable } from '../../../lifecycle';\nimport { toggleClass } from '../../../dom';\nexport class VoidContainer extends CompositeDisposable {\n  get element() {\n    return this._element;\n  }\n  constructor(accessor, group) {\n    super();\n    this.accessor = accessor;\n    this.group = group;\n    this._onDrop = new Emitter();\n    this.onDrop = this._onDrop.event;\n    this._onDragStart = new Emitter();\n    this.onDragStart = this._onDragStart.event;\n    this._element = document.createElement('div');\n    this._element.className = 'dv-void-container';\n    this._element.draggable = !this.accessor.options.disableDnd;\n    toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n    this.addDisposables(this._onDrop, this._onDragStart, addDisposableListener(this._element, 'pointerdown', () => {\n      this.accessor.doSetGroupActive(this.group);\n    }));\n    const handler = new GroupDragHandler(this._element, accessor, group);\n    this.dropTarget = new Droptarget(this._element, {\n      acceptedTargetZones: ['center'],\n      canDisplayOverlay: (event, position) => {\n        const data = getPanelData();\n        if (data && this.accessor.id === data.viewId) {\n          return true;\n        }\n        return group.model.canDisplayOverlay(event, position, 'header_space');\n      },\n      getOverrideTarget: () => {\n        var _a;\n        return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model;\n      }\n    });\n    this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;\n    this.addDisposables(handler, handler.onDragStart(event => {\n      this._onDragStart.fire(event);\n    }), this.dropTarget.onDrop(event => {\n      this._onDrop.fire(event);\n    }), this.dropTarget);\n  }\n  updateDragAndDropState() {\n    this._element.draggable = !this.accessor.options.disableDnd;\n    toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n  }\n}","map":{"version":3,"names":["getPanelData","Droptarget","GroupDragHandler","addDisposableListener","Emitter","CompositeDisposable","toggleClass","VoidContainer","element","_element","constructor","accessor","group","_onDrop","onDrop","event","_onDragStart","onDragStart","document","createElement","className","draggable","options","disableDnd","addDisposables","doSetGroupActive","handler","dropTarget","acceptedTargetZones","canDisplayOverlay","position","data","id","viewId","model","getOverrideTarget","_a","dropTargetContainer","onWillShowOverlay","fire","updateDragAndDropState"],"sources":["E:/dockview.demo/node_modules/dockview-core/dist/esm/dockview/components/titlebar/voidContainer.js"],"sourcesContent":["import { getPanelData } from '../../../dnd/dataTransfer';\nimport { Droptarget, } from '../../../dnd/droptarget';\nimport { GroupDragHandler } from '../../../dnd/groupDragHandler';\nimport { addDisposableListener, Emitter } from '../../../events';\nimport { CompositeDisposable } from '../../../lifecycle';\nimport { toggleClass } from '../../../dom';\nexport class VoidContainer extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor(accessor, group) {\n        super();\n        this.accessor = accessor;\n        this.group = group;\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onDragStart = new Emitter();\n        this.onDragStart = this._onDragStart.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-void-container';\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n        this.addDisposables(this._onDrop, this._onDragStart, addDisposableListener(this._element, 'pointerdown', () => {\n            this.accessor.doSetGroupActive(this.group);\n        }));\n        const handler = new GroupDragHandler(this._element, accessor, group);\n        this.dropTarget = new Droptarget(this._element, {\n            acceptedTargetZones: ['center'],\n            canDisplayOverlay: (event, position) => {\n                const data = getPanelData();\n                if (data && this.accessor.id === data.viewId) {\n                    return true;\n                }\n                return group.model.canDisplayOverlay(event, position, 'header_space');\n            },\n            getOverrideTarget: () => { var _a; return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },\n        });\n        this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;\n        this.addDisposables(handler, handler.onDragStart((event) => {\n            this._onDragStart.fire(event);\n        }), this.dropTarget.onDrop((event) => {\n            this._onDrop.fire(event);\n        }), this.dropTarget);\n    }\n    updateDragAndDropState() {\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n    }\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,2BAA2B;AACxD,SAASC,UAAU,QAAS,yBAAyB;AACrD,SAASC,gBAAgB,QAAQ,+BAA+B;AAChE,SAASC,qBAAqB,EAAEC,OAAO,QAAQ,iBAAiB;AAChE,SAASC,mBAAmB,QAAQ,oBAAoB;AACxD,SAASC,WAAW,QAAQ,cAAc;AAC1C,OAAO,MAAMC,aAAa,SAASF,mBAAmB,CAAC;EACnD,IAAIG,OAAOA,CAAA,EAAG;IACV,OAAO,IAAI,CAACC,QAAQ;EACxB;EACAC,WAAWA,CAACC,QAAQ,EAAEC,KAAK,EAAE;IACzB,KAAK,CAAC,CAAC;IACP,IAAI,CAACD,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,OAAO,GAAG,IAAIT,OAAO,CAAC,CAAC;IAC5B,IAAI,CAACU,MAAM,GAAG,IAAI,CAACD,OAAO,CAACE,KAAK;IAChC,IAAI,CAACC,YAAY,GAAG,IAAIZ,OAAO,CAAC,CAAC;IACjC,IAAI,CAACa,WAAW,GAAG,IAAI,CAACD,YAAY,CAACD,KAAK;IAC1C,IAAI,CAACN,QAAQ,GAAGS,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7C,IAAI,CAACV,QAAQ,CAACW,SAAS,GAAG,mBAAmB;IAC7C,IAAI,CAACX,QAAQ,CAACY,SAAS,GAAG,CAAC,IAAI,CAACV,QAAQ,CAACW,OAAO,CAACC,UAAU;IAC3DjB,WAAW,CAAC,IAAI,CAACG,QAAQ,EAAE,cAAc,EAAE,CAAC,IAAI,CAACE,QAAQ,CAACW,OAAO,CAACC,UAAU,CAAC;IAC7E,IAAI,CAACC,cAAc,CAAC,IAAI,CAACX,OAAO,EAAE,IAAI,CAACG,YAAY,EAAEb,qBAAqB,CAAC,IAAI,CAACM,QAAQ,EAAE,aAAa,EAAE,MAAM;MAC3G,IAAI,CAACE,QAAQ,CAACc,gBAAgB,CAAC,IAAI,CAACb,KAAK,CAAC;IAC9C,CAAC,CAAC,CAAC;IACH,MAAMc,OAAO,GAAG,IAAIxB,gBAAgB,CAAC,IAAI,CAACO,QAAQ,EAAEE,QAAQ,EAAEC,KAAK,CAAC;IACpE,IAAI,CAACe,UAAU,GAAG,IAAI1B,UAAU,CAAC,IAAI,CAACQ,QAAQ,EAAE;MAC5CmB,mBAAmB,EAAE,CAAC,QAAQ,CAAC;MAC/BC,iBAAiB,EAAEA,CAACd,KAAK,EAAEe,QAAQ,KAAK;QACpC,MAAMC,IAAI,GAAG/B,YAAY,CAAC,CAAC;QAC3B,IAAI+B,IAAI,IAAI,IAAI,CAACpB,QAAQ,CAACqB,EAAE,KAAKD,IAAI,CAACE,MAAM,EAAE;UAC1C,OAAO,IAAI;QACf;QACA,OAAOrB,KAAK,CAACsB,KAAK,CAACL,iBAAiB,CAACd,KAAK,EAAEe,QAAQ,EAAE,cAAc,CAAC;MACzE,CAAC;MACDK,iBAAiB,EAAEA,CAAA,KAAM;QAAE,IAAIC,EAAE;QAAE,OAAO,CAACA,EAAE,GAAGxB,KAAK,CAACsB,KAAK,CAACG,mBAAmB,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACF,KAAK;MAAE;IACpI,CAAC,CAAC;IACF,IAAI,CAACI,iBAAiB,GAAG,IAAI,CAACX,UAAU,CAACW,iBAAiB;IAC1D,IAAI,CAACd,cAAc,CAACE,OAAO,EAAEA,OAAO,CAACT,WAAW,CAAEF,KAAK,IAAK;MACxD,IAAI,CAACC,YAAY,CAACuB,IAAI,CAACxB,KAAK,CAAC;IACjC,CAAC,CAAC,EAAE,IAAI,CAACY,UAAU,CAACb,MAAM,CAAEC,KAAK,IAAK;MAClC,IAAI,CAACF,OAAO,CAAC0B,IAAI,CAACxB,KAAK,CAAC;IAC5B,CAAC,CAAC,EAAE,IAAI,CAACY,UAAU,CAAC;EACxB;EACAa,sBAAsBA,CAAA,EAAG;IACrB,IAAI,CAAC/B,QAAQ,CAACY,SAAS,GAAG,CAAC,IAAI,CAACV,QAAQ,CAACW,OAAO,CAACC,UAAU;IAC3DjB,WAAW,CAAC,IAAI,CAACG,QAAQ,EAAE,cAAc,EAAE,CAAC,IAAI,CAACE,QAAQ,CAACW,OAAO,CAACC,UAAU,CAAC;EACjF;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}