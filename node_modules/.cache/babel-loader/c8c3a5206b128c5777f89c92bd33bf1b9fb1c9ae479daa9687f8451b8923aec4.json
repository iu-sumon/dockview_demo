{"ast":null,"code":"import { addDisposableListener } from '../events';\nimport { CompositeDisposable } from '../lifecycle';\nexport class DragAndDropObserver extends CompositeDisposable {\n  constructor(element, callbacks) {\n    super();\n    this.element = element;\n    this.callbacks = callbacks;\n    this.target = null;\n    this.registerListeners();\n  }\n  onDragEnter(e) {\n    this.target = e.target;\n    this.callbacks.onDragEnter(e);\n  }\n  onDragOver(e) {\n    e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n    if (this.callbacks.onDragOver) {\n      this.callbacks.onDragOver(e);\n    }\n  }\n  onDragLeave(e) {\n    if (this.target === e.target) {\n      this.target = null;\n      this.callbacks.onDragLeave(e);\n    }\n  }\n  onDragEnd(e) {\n    this.target = null;\n    this.callbacks.onDragEnd(e);\n  }\n  onDrop(e) {\n    this.callbacks.onDrop(e);\n  }\n  registerListeners() {\n    this.addDisposables(addDisposableListener(this.element, 'dragenter', e => {\n      this.onDragEnter(e);\n    }, true));\n    this.addDisposables(addDisposableListener(this.element, 'dragover', e => {\n      this.onDragOver(e);\n    }, true));\n    this.addDisposables(addDisposableListener(this.element, 'dragleave', e => {\n      this.onDragLeave(e);\n    }));\n    this.addDisposables(addDisposableListener(this.element, 'dragend', e => {\n      this.onDragEnd(e);\n    }));\n    this.addDisposables(addDisposableListener(this.element, 'drop', e => {\n      this.onDrop(e);\n    }));\n  }\n}","map":{"version":3,"names":["addDisposableListener","CompositeDisposable","DragAndDropObserver","constructor","element","callbacks","target","registerListeners","onDragEnter","e","onDragOver","preventDefault","onDragLeave","onDragEnd","onDrop","addDisposables"],"sources":["E:/dockview.demo/node_modules/dockview-core/dist/esm/dnd/dnd.js"],"sourcesContent":["import { addDisposableListener } from '../events';\nimport { CompositeDisposable } from '../lifecycle';\nexport class DragAndDropObserver extends CompositeDisposable {\n    constructor(element, callbacks) {\n        super();\n        this.element = element;\n        this.callbacks = callbacks;\n        this.target = null;\n        this.registerListeners();\n    }\n    onDragEnter(e) {\n        this.target = e.target;\n        this.callbacks.onDragEnter(e);\n    }\n    onDragOver(e) {\n        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        if (this.callbacks.onDragOver) {\n            this.callbacks.onDragOver(e);\n        }\n    }\n    onDragLeave(e) {\n        if (this.target === e.target) {\n            this.target = null;\n            this.callbacks.onDragLeave(e);\n        }\n    }\n    onDragEnd(e) {\n        this.target = null;\n        this.callbacks.onDragEnd(e);\n    }\n    onDrop(e) {\n        this.callbacks.onDrop(e);\n    }\n    registerListeners() {\n        this.addDisposables(addDisposableListener(this.element, 'dragenter', (e) => {\n            this.onDragEnter(e);\n        }, true));\n        this.addDisposables(addDisposableListener(this.element, 'dragover', (e) => {\n            this.onDragOver(e);\n        }, true));\n        this.addDisposables(addDisposableListener(this.element, 'dragleave', (e) => {\n            this.onDragLeave(e);\n        }));\n        this.addDisposables(addDisposableListener(this.element, 'dragend', (e) => {\n            this.onDragEnd(e);\n        }));\n        this.addDisposables(addDisposableListener(this.element, 'drop', (e) => {\n            this.onDrop(e);\n        }));\n    }\n}\n"],"mappings":"AAAA,SAASA,qBAAqB,QAAQ,WAAW;AACjD,SAASC,mBAAmB,QAAQ,cAAc;AAClD,OAAO,MAAMC,mBAAmB,SAASD,mBAAmB,CAAC;EACzDE,WAAWA,CAACC,OAAO,EAAEC,SAAS,EAAE;IAC5B,KAAK,CAAC,CAAC;IACP,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC5B;EACAC,WAAWA,CAACC,CAAC,EAAE;IACX,IAAI,CAACH,MAAM,GAAGG,CAAC,CAACH,MAAM;IACtB,IAAI,CAACD,SAAS,CAACG,WAAW,CAACC,CAAC,CAAC;EACjC;EACAC,UAAUA,CAACD,CAAC,EAAE;IACVA,CAAC,CAACE,cAAc,CAAC,CAAC,CAAC,CAAC;IACpB,IAAI,IAAI,CAACN,SAAS,CAACK,UAAU,EAAE;MAC3B,IAAI,CAACL,SAAS,CAACK,UAAU,CAACD,CAAC,CAAC;IAChC;EACJ;EACAG,WAAWA,CAACH,CAAC,EAAE;IACX,IAAI,IAAI,CAACH,MAAM,KAAKG,CAAC,CAACH,MAAM,EAAE;MAC1B,IAAI,CAACA,MAAM,GAAG,IAAI;MAClB,IAAI,CAACD,SAAS,CAACO,WAAW,CAACH,CAAC,CAAC;IACjC;EACJ;EACAI,SAASA,CAACJ,CAAC,EAAE;IACT,IAAI,CAACH,MAAM,GAAG,IAAI;IAClB,IAAI,CAACD,SAAS,CAACQ,SAAS,CAACJ,CAAC,CAAC;EAC/B;EACAK,MAAMA,CAACL,CAAC,EAAE;IACN,IAAI,CAACJ,SAAS,CAACS,MAAM,CAACL,CAAC,CAAC;EAC5B;EACAF,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACQ,cAAc,CAACf,qBAAqB,CAAC,IAAI,CAACI,OAAO,EAAE,WAAW,EAAGK,CAAC,IAAK;MACxE,IAAI,CAACD,WAAW,CAACC,CAAC,CAAC;IACvB,CAAC,EAAE,IAAI,CAAC,CAAC;IACT,IAAI,CAACM,cAAc,CAACf,qBAAqB,CAAC,IAAI,CAACI,OAAO,EAAE,UAAU,EAAGK,CAAC,IAAK;MACvE,IAAI,CAACC,UAAU,CAACD,CAAC,CAAC;IACtB,CAAC,EAAE,IAAI,CAAC,CAAC;IACT,IAAI,CAACM,cAAc,CAACf,qBAAqB,CAAC,IAAI,CAACI,OAAO,EAAE,WAAW,EAAGK,CAAC,IAAK;MACxE,IAAI,CAACG,WAAW,CAACH,CAAC,CAAC;IACvB,CAAC,CAAC,CAAC;IACH,IAAI,CAACM,cAAc,CAACf,qBAAqB,CAAC,IAAI,CAACI,OAAO,EAAE,SAAS,EAAGK,CAAC,IAAK;MACtE,IAAI,CAACI,SAAS,CAACJ,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC;IACH,IAAI,CAACM,cAAc,CAACf,qBAAqB,CAAC,IAAI,CAACI,OAAO,EAAE,MAAM,EAAGK,CAAC,IAAK;MACnE,IAAI,CAACK,MAAM,CAACL,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;EACP;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}